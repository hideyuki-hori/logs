サーバ側の技術調査してた。
wsがいいと思ってたが、keepaliveが発生する以上、ポーリングでもいい気がしてる。
それより `GET /has-update` のようなreqを投げて更新がなければ304を返すほうが通信料が減るのでいいように思う。
普通のhttp通信でサーバレスにつなぐと毎回ハンドシェイクが発生するのでよくない。
cloudflareがWebTransportサポートするみたいな記事を何処かで見た気がする。思い出せん。

受け取ったメッセージを加工してlocalのgpuにおくるだけなので順番保証と到達保証が不要なのでwsじゃなくてもいい。
サーバ費用を抑えられる方針で行きたい。

仕組みだけ見たらrest or rpc(もどき)でもいいように思う。
さすがにrestはやる気がせんが。
tRPCとかhonoのrpcがちょうどいい。

やっぱりaccess.log直舐めして状況確認したい。
GraphQLは中身をみないとerrorかどうかはんだんできないのはしんどい。
とくに30x関連で通信コストを抑える設計と相性が悪い気がしてる。

安く済ませたいという気持ちだったが、この思想だと縮こまった発想しかできなくなるので、上限設定して好きに作るほうがいいんじゃないか？という気持ちになった。
試したいことが多すぎるが、金が追いつかん。

発想や思想が制限されるデメリットのほうがでかい。
金のことは気にしない。そのために働いてるんだしガンガン使おう。
